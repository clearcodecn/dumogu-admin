import{S as v}from"./index-30f94e2d.js";import{Q as C,j as w,r as y,bv as r,o as B,w as b,e as R,l as f,m as g,n as a,F as S,x as k,z as N,S as E,J as x,C as z}from"./index-999588c8.js";const P=w({name:"Collapse",components:{SvgIcon:v},props:{show:{type:Boolean,default:!0},showBt:{type:Boolean,default:!1},anchorPointSignName:{type:String,default:".anchor-point-target"}},emits:["onClick"],setup(o,{emit:s}){const t=y(null),l=r(o,"show"),u=r(o,"showBt"),d=r(o,"anchorPointSignName");B(()=>{const e=t.value.firstChild;new ResizeObserver(c=>{h()}).observe(e)});let n=null;b(l,e=>{h()},{immediate:!1});function i(){if(!t.value)return!1;const e=t.value.getBoundingClientRect();return!(e.top==0&&e.bottom==0&&e.left==0&&e.right==0)}function h(){clearTimeout(n),n=setTimeout(()=>{if(i())if(l.value){const e=t.value.firstChild.getBoundingClientRect().height;t.value.style.height=e+"px"}else{const e=t.value.querySelector(d.value);if(!e)t.value.style.height=0+"px";else{const p=t.value.getBoundingClientRect(),c=e.getBoundingClientRect(),_=c.y-p.y+c.height;t.value.style.height=_+"px"}}},26)}R(()=>{clearTimeout(n)});function m(){s("onClick")}return{CollapseElRef:t,show:l,showBt:u,handleClick:m}}}),V={class:"collapse-el"},$={ref:"CollapseElRef",class:"collapse-el-container"},T={class:"collapse-el-container-container"},I={key:0,class:"collapse-el-show-container"};function O(o,s,t,l,u,d){const n=v;return f(),g("div",V,[a("div",$,[a("div",T,[S(o.$slots,"default",{},void 0,!0)])],512),o.showBt?(f(),g("div",I,[a("div",{onClick:s[0]||(s[0]=(...i)=>o.handleClick&&o.handleClick(...i)),class:"container"},[a("div",{class:k({bt:!0,show:o.show})},[N(n,{style:"width:15px;height:15px;",name:"svg:sort-down.svg"})],2),E(" "+x(o.show?"收缩":"展开"),1)])])):z("",!0)])}const j=C(P,[["render",O],["__scopeId","data-v-dc54acbb"]]);export{j as _};
