import{Q as I,j as x,L as w,r as Q,cl as S,l as y,q as D,t,n as h,z as a,S as p,C as L,a_ as q,a0 as A,X as R,Y as B,Z as K,$ as O,bf as z,m as M,v as V,B as X,V as Y,R as Z,ck as G,a2 as T,c8 as H,cg as J}from"./index-999588c8.js";import{_ as W,h as ee,E as ae,v as te,b as oe}from"./PowerTools-2d20d736.js";import"./el-popper-ad8b0ffa.js";import"./el-scrollbar-09fc8e0e.js";import{a as P,b as j,E as F,c as N}from"./el-form-item-fcf7e774.js";import{S as k}from"./index-30f94e2d.js";import{d as ne}from"./DebounceAndThrottle-5b857d59.js";import{E as le}from"./el-dialog-88356803.js";import{E as ie}from"./el-input-number-9355739e.js";import{v as re}from"./VerifiedTools-314f4468.js";import{I as se}from"./IconSlect-0327be03.js";import"./debounce-b3f94dfe.js";let de={rows:[{name:"菜单修改",content:"yx:clue:wf"},{name:"菜单添加",content:"yx:clue:wf"},{name:"菜单查看",content:"yx:clue:wf"},{name:"菜单删除",content:"yx:clue:wf"},{name:"用户修改",content:"yx:clue:wf"}],code:200,msg:"查询成功"};const $={open:{default:!1},title:{default:"按钮权限数据"},afterTitle:{default:""},isShow:{default:!1}},ce=x({name:"EditDataDialog",components:{SvgIcon:k,IconSlect:se},setup(){const e=w({}),o=Q(null),n=w({loading:!1,closeType:"close",resolve:void 0,reject:void 0,form:{},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]},menuList:[]}),_={castParams:{}};S(e,{},$);function b(){n.closeType=="confirm"?n.resolve(_.castParams):n.reject(n.closeType,_.castParams)}function g(s=!0,l={},d={}){return S(e,d,$),n.closeType="close",n.loading=!1,n.form={},_.castParams={},e.open=s,q(()=>{n.form=l}),new Promise((i,r)=>{n.resolve=i,n.reject=r})}function u(){n.form={}}function f(){o.value&&o.value.validate((s,l)=>{if(l){let d=l[Object.keys(l)[0]][0].message;A(d)}s&&(n.loading=!0,setTimeout(()=>{_.castParams=n.form,n.closeType="confirm",e.open=!1,n.loading=!1},100))})}function m(s){return re(s,{name:{msg:"名称 不能为空",validate(d,i){return!(!d&&d!==0)}}})}return{configData:e,initData:g,dataContainer:n,handleClose:b,getDataInfo:u,handleSubmit:f,FormElRef:o,validData:m}}}),fe=e=>(K("data-v-e471fd4b"),e=e(),O(),e),ue={class:"dialog-container"},me=fe(()=>h("p",{style:{opacity:"0.8"}}," 按钮可以是任何地方，不一定必须跟页面挂钩，而且菜单配置也只是配置菜单而已，权限可以控制跳转到那个页面也可以控制有那些按钮。 ",-1)),pe={class:"dialog-footer"};function _e(e,o,n,_,b,g){const u=P,f=j,m=R,s=ie,l=F,d=N,i=B,r=le;return y(),D(r,{title:e.configData.title+e.configData.afterTitle,modelValue:e.configData.open,"onUpdate:modelValue":o[4]||(o[4]=c=>e.configData.open=c),width:"800px","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",onClose:e.handleClose,class:"edit-data-dialog"},{footer:t(()=>[h("div",pe,[a(i,{onClick:o[3]||(o[3]=()=>{e.dataContainer.closeType="cancel",e.configData.open=!1})},{default:t(()=>[p(" 取消 ")]),_:1}),e.configData.isShow?L("",!0):(y(),D(i,{key:0,type:"primary",loading:e.dataContainer.loading,onClick:e.handleSubmit},{default:t(()=>[p(" 提交 ")]),_:1},8,["loading","onClick"]))])]),default:t(()=>[h("div",ue,[a(d,{model:e.dataContainer.form,ref:"FormElRef",inline:!0,rules:e.dataContainer.rules,"label-width":"150px"},{default:t(()=>[a(l,{gutter:0},{default:t(()=>[a(f,{span:24},{default:t(()=>[a(u,{label:"提示"},{default:t(()=>[me]),_:1})]),_:1}),a(f,{span:12,xs:6},{default:t(()=>[a(u,{label:"权限按钮名称",prop:"name"},{default:t(()=>[a(m,{modelValue:e.dataContainer.form.name,"onUpdate:modelValue":o[0]||(o[0]=c=>e.dataContainer.form.name=c),placeholder:"请输入",disabled:e.configData.isShow,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(f,{span:12,xs:6},{default:t(()=>[a(u,{label:"权限字符",prop:"content"},{default:t(()=>[a(m,{modelValue:e.dataContainer.form.content,"onUpdate:modelValue":o[1]||(o[1]=c=>e.dataContainer.form.content=c),placeholder:"请输入",disabled:e.configData.isShow,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(f,{span:12,xs:6},{default:t(()=>[a(u,{label:"排序",prop:"sort"},{default:t(()=>[a(s,{style:{width:"100%"},modelValue:e.dataContainer.form.sort,"onUpdate:modelValue":o[2]||(o[2]=c=>e.dataContainer.form.sort=c),min:1,max:999,"controls-position":"right",disabled:e.configData.isShow,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["title","modelValue","onClose"])}const he=I(ce,[["render",_e],["__scopeId","data-v-e471fd4b"]]);const ge=x({components:{DictTags:W,EditDataDialog:he,SvgIcon:k},setup(){const e=Q(null);Y();const o=w({loading:!1,showSearch:!0,form:{},params:{},list:[]}),n=ne(function(){o.loading=!0,Promise.resolve(de).then(i=>{let r=J(i.rows||[]);o.list=r}).catch(()=>{}).finally(()=>{o.loading=!1})},300);n();function _(i,r,c,v){G(v.target.innerText),T("复制成功，内容为："+v.target.innerText)}function b(i,r,c){o.form.orderByColumn=i.prop,o.form.isAsc=i.order,n()}function g(){o.params.pageNum=1,n()}function u(){o.form={},g()}function f(){}function m(i){e.value&&e.value.initData(!0,{...i},{afterTitle:" - 添加"}).then(r=>{}).catch(()=>{})}function s(i,r){e.value&&e.value.initData(!0,{...i},{...r}).then(()=>{}).catch(()=>{})}function l(i,r){e.value&&e.value.initData(!0,{...i},{...r}).then(c=>{}).catch(()=>{})}function d(i){H("确认删除该数据？","提示").then(()=>{T("删除成功")}).catch(()=>{})}return{dataContainer:o,getDataList:n,handleCopyVale:_,handleSortChange:b,handleQuery:g,resetQuery:u,handleExport:f,handleAdd:m,handleDetails:s,handleEdit:l,handleDelete:d,EditDataDialogRef:e,hasPermi:ee}}}),Ce={class:"page-container main-view"},be={class:"table-box content-container page-content-box"},ve={class:"top-container"},ye={class:"left"},we={class:"right"},De={class:"table-container"};function ke(e,o,n,_,b,g){const u=R,f=P,m=j,s=k,l=B,d=F,i=N,r=oe,c=ae,v=z("EditDataDialog"),U=te;return y(),M("div",Ce,[V(a(d,{gutter:0,class:"page-query-box"},{default:t(()=>[a(m,{span:24,xs:24},{default:t(()=>[a(i,{model:e.dataContainer.form,ref:"QueryFormRef",inline:!0,"label-width":"110px"},{default:t(()=>[a(d,{gutter:0},{default:t(()=>[a(m,{span:8,xs:8},{default:t(()=>[a(f,{label:"名称",prop:"name"},{default:t(()=>[a(u,{modelValue:e.dataContainer.form.name,"onUpdate:modelValue":o[0]||(o[0]=C=>e.dataContainer.form.name=C),placeholder:"请输入",clearable:"",onClear:e.handleQuery,onKeyup:Z(e.handleQuery,["enter"])},null,8,["modelValue","onClear","onKeyup"])]),_:1})]),_:1}),a(m,{span:8,xs:8},{default:t(()=>[a(f,{label:" "},{default:t(()=>[a(l,{type:"primary",onClick:e.handleQuery},{default:t(()=>[a(s,{style:"width:15px;height:15px;margin-right:5px;",name:"svg:search-bt.svg"}),p(" 查询 ")]),_:1},8,["onClick"]),a(l,{onClick:e.resetQuery},{default:t(()=>[a(s,{style:"width:15px;height:15px;margin-right:5px;",name:"svg:redo.svg"}),p(" 重置 ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},512),[[X,e.dataContainer.showSearch]]),h("div",be,[h("div",ve,[h("div",ye,[a(l,{type:"primary",onClick:e.handleAdd},{default:t(()=>[p(" 新增 ")]),_:1},8,["onClick"]),a(l,{plain:"",type:"primary",onClick:e.handleExport},{default:t(()=>[p(" 导出 ")]),_:1},8,["onClick"])]),h("div",we,[a(l,{circle:"",onClick:e.resetQuery},{default:t(()=>[a(s,{style:"width:15px;height:15px;",name:"svg:redo.svg"})]),_:1},8,["onClick"]),a(l,{circle:"",onClick:o[1]||(o[1]=C=>e.dataContainer.showSearch=!e.dataContainer.showSearch)},{default:t(()=>[a(s,{style:"width:15px;height:15px;",name:"svg:search-bt.svg"})]),_:1})])]),h("div",De,[V((y(),D(c,{ref:"ElTableRef",data:e.dataContainer.list,onCellDblclick:e.handleCopyVale,border:"","row-key":"id","tree-props":{children:"childs"},height:"100%"},{default:t(()=>[a(r,{type:"index",align:"left",label:"序号",width:"60",fixed:"left"}),a(r,{label:"权限按钮名称","show-overflow-tooltip":"",align:"left","min-width":"170",prop:"name"}),a(r,{label:"权限字符","show-overflow-tooltip":"",align:"left","min-width":"170",prop:"content"}),a(r,{label:"排序","show-overflow-tooltip":"",align:"left",prop:"sort","min-width":"150"}),a(r,{label:"操作",width:"200",fixed:"right","class-name":"small-padding fixed-width"},{default:t(C=>[a(l,{text:!0,onClick:E=>e.handleDetails(C.row,{isShow:!0,afterTitle:" - 查看"})},{default:t(()=>[p(" 查看 ")]),_:2},1032,["onClick"]),a(l,{text:!0,onClick:E=>e.handleEdit(C.row,{isShow:!1,afterTitle:" - 编辑"})},{default:t(()=>[p(" 编辑 ")]),_:2},1032,["onClick"]),a(l,{text:!0,type:"danger",onClick:E=>e.handleDelete(C.row)},{default:t(()=>[p(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onCellDblclick"])),[[U,e.dataContainer.loading]])])]),a(v,{ref:"EditDataDialogRef"},null,512)])}const Fe=I(ge,[["render",ke],["__scopeId","data-v-7b28b382"]]);export{Fe as default};
