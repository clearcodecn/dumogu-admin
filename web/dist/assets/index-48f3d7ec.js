import{Q as N,j as U,L as S,r as B,cl as L,l as h,q as v,t,n as C,z as a,S as c,C as T,m as R,H as Y,I as G,a_ as J,a0 as W,X as F,Y as j,bf as Z,v as V,B as Q,V as x,R as P,ck as ee,a2 as z,c8 as ae}from"./index-999588c8.js";import{_ as te,h as oe,E as ne,v as le,b as re,c as ie}from"./PowerTools-2d20d736.js";import{E as se}from"./el-pagination-0aa033ca.js";import{E as de,a as ue}from"./el-select-d26c9de0.js";import"./el-scrollbar-09fc8e0e.js";import"./el-popper-ad8b0ffa.js";import{a as K,b as q,E as A,c as O}from"./el-form-item-fcf7e774.js";import{S as H}from"./index-30f94e2d.js";import{d as pe}from"./DebounceAndThrottle-5b857d59.js";import{E as me}from"./el-dialog-88356803.js";import{E as fe}from"./el-switch-b66411e8.js";import{E as ce}from"./el-input-number-9355739e.js";import{v as ge}from"./VerifiedTools-314f4468.js";import"./debounce-b3f94dfe.js";let k={total:314,rows:[],code:200,msg:"查询成功"};const M=[];let he=["毒蘑菇","云南见手青","躺板板"];for(let e=0;e<20;e++)M.push({name:he[e]||"张三",sign:e===0?"超级管理员":"普通用户",content:`测试角色${e+1}`,sort:e,status:!0,createTime:new Date().toLocaleString(),number:new Date().getTime()});k.rows=M;k.total=k.rows.length;const I={open:{default:!1},title:{default:"用户数据"},afterTitle:{default:""},isShow:{default:!1}},_e=U({name:"EditDataDialog",components:{},setup(){const e=S({}),o=B(null),l=S({loading:!1,closeType:"close",resolve:void 0,reject:void 0,form:{},rules:{name:[{required:!0,message:"请输入用户名称",trigger:"blur"}]}}),_={castParams:{}};L(e,{},I);function D(){l.closeType=="confirm"?l.resolve(_.castParams):l.reject(l.closeType,_.castParams)}function w(m=!0,n={},f={}){return L(e,f,I),l.closeType="close",l.loading=!1,l.form={},_.castParams={},e.open=m,J(()=>{l.form=n}),new Promise((s,r)=>{l.resolve=s,l.reject=r})}function g(){l.form={}}function p(){o.value&&o.value.validate((m,n)=>{if(n){let f=n[Object.keys(n)[0]][0].message;W(f)}m&&setTimeout(()=>{_.castParams={name:"数据保存成功了，向外部通知"},l.closeType="confirm",e.open=!1},1e3)})}function d(m){return ge(m,{name:{msg:"名称 不能为空",validate(f,s){return!(!f&&f!==0)}}})}return{configData:e,initData:w,dataContainer:l,handleClose:D,getDataInfo:g,handleSubmit:p,FormElRef:o,validData:d}}}),Ce={class:"dialog-container"},be={class:"dialog-footer"};function ve(e,o,l,_,D,w){const g=F,p=K,d=q,m=de,n=ue,f=ce,s=fe,r=A,y=O,b=j,E=me;return h(),v(E,{title:e.configData.title+e.configData.afterTitle,modelValue:e.configData.open,"onUpdate:modelValue":o[7]||(o[7]=i=>e.configData.open=i),width:"800px","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",onClose:e.handleClose,class:"edit-data-dialog"},{footer:t(()=>[C("div",be,[a(b,{onClick:o[6]||(o[6]=()=>{e.dataContainer.closeType="cancel",e.configData.open=!1})},{default:t(()=>[c(" 取消 ")]),_:1}),e.configData.isShow?T("",!0):(h(),v(b,{key:0,type:"primary",onClick:e.handleSubmit},{default:t(()=>[c(" 提交 ")]),_:1},8,["onClick"]))])]),default:t(()=>[C("div",Ce,[a(y,{model:e.dataContainer.form,ref:"FormElRef",inline:!0,rules:e.dataContainer.rules,"label-width":"100px"},{default:t(()=>[a(r,{gutter:0},{default:t(()=>[a(d,{span:12,xs:6},{default:t(()=>[a(p,{label:"用户名称",prop:"name"},{default:t(()=>[a(g,{modelValue:e.dataContainer.form.name,"onUpdate:modelValue":o[0]||(o[0]=i=>e.dataContainer.form.name=i),placeholder:"请输入",disabled:e.configData.isShow,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(d,{span:12,xs:6},{default:t(()=>[a(p,{label:"用户账号",prop:"number"},{default:t(()=>[a(g,{modelValue:e.dataContainer.form.number,"onUpdate:modelValue":o[1]||(o[1]=i=>e.dataContainer.form.number=i),placeholder:"请输入",disabled:e.configData.isShow,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(d,{span:12,xs:6},{default:t(()=>[a(p,{label:"角色标识",prop:"sign"},{default:t(()=>[a(n,{style:{width:"100%"},modelValue:e.dataContainer.form.sign,"onUpdate:modelValue":o[2]||(o[2]=i=>e.dataContainer.form.sign=i),placeholder:"请选择",disabled:e.configData.isShow,clearable:""},{default:t(()=>[(h(),R(Y,null,G([{label:"超级管理员",value:"1"},{label:"超级管理员1",value:"2"}],i=>a(m,{key:i.value,label:i.label,value:i.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),a(d,{span:12,xs:6},{default:t(()=>[a(p,{label:"排序",prop:"sort"},{default:t(()=>[a(f,{style:{width:"100%"},modelValue:e.dataContainer.form.sort,"onUpdate:modelValue":o[3]||(o[3]=i=>e.dataContainer.form.sort=i),min:1,max:999,"controls-position":"right",disabled:e.configData.isShow,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(d,{span:12,xs:6},{default:t(()=>[a(p,{label:"状态",prop:"status"},{default:t(()=>[a(s,{modelValue:e.dataContainer.form.status,"onUpdate:modelValue":o[4]||(o[4]=i=>e.dataContainer.form.status=i),disabled:e.configData.isShow,"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(d,{span:24,xs:6},{default:t(()=>[a(p,{label:"用户描述",prop:"content"},{default:t(()=>[a(g,{modelValue:e.dataContainer.form.content,"onUpdate:modelValue":o[5]||(o[5]=i=>e.dataContainer.form.content=i),rows:2,type:"textarea",disabled:e.configData.isShow,placeholder:"请输入"},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["title","modelValue","onClose"])}const we=N(_e,[["render",ve],["__scopeId","data-v-d315226a"]]);const ye=U({components:{DictTags:te,EditDataDialog:we,SvgIcon:H},setup(){const e=B(null);x();const o=S({loading:!1,showSearch:!0,form:{},params:{pageNum:1,pageSize:10},config:{total:0},list:[],currDataList:[]}),l=pe(function(){o.loading=!0,Promise.resolve(k).then(s=>{o.list=s.rows||[],o.config.total=s.total}).catch(()=>{}).finally(()=>{o.loading=!1})},300);l();function _(s,r,y,b){ee(b.target.innerText),z("复制成功，内容为："+b.target.innerText)}function D(s,r,y){o.form.orderByColumn=s.prop,o.form.isAsc=s.order,l()}function w(){o.params.pageNum=1,l()}function g(){o.form={},w()}function p(){}function d(){e.value&&e.value.initData(!0,{},{afterTitle:" - 添加"}).then(()=>{}).catch(()=>{})}function m(s,r){e.value&&e.value.initData(!0,{...s},{...r}).then(()=>{}).catch(()=>{})}function n(s,r){e.value&&e.value.initData(!0,{...s},{...r}).then(()=>{}).catch(()=>{})}function f(s){ae("确认删除该数据？").then(()=>{z("删除成功")}).catch(()=>{})}return{dataContainer:o,getDataList:l,handleCopyVale:_,handleSortChange:D,handleQuery:w,resetQuery:g,handleExport:p,handleAdd:d,handleDetails:m,handleEdit:n,handleDelete:f,EditDataDialogRef:e,hasPermi:oe}}}),De={class:"page-container main-view"},ke={class:"table-box content-container page-content-box"},Ee={class:"top-container"},Ve={class:"left"},Se={class:"right"},Te={class:"table-container"},$e={class:"pagination-container"};function Le(e,o,l,_,D,w){const g=F,p=K,d=q,m=H,n=j,f=A,s=O,r=re,y=ie,b=ne,E=se,i=Z("EditDataDialog"),X=le;return h(),R("div",De,[V(a(f,{gutter:0,class:"page-query-box"},{default:t(()=>[a(d,{span:24,xs:24},{default:t(()=>[a(s,{model:e.dataContainer.form,ref:"QueryFormRef",inline:!0,"label-width":"110px"},{default:t(()=>[a(f,{gutter:0},{default:t(()=>[a(d,{span:6,xs:6},{default:t(()=>[a(p,{label:"用户名称",prop:"name"},{default:t(()=>[a(g,{modelValue:e.dataContainer.form.name,"onUpdate:modelValue":o[0]||(o[0]=u=>e.dataContainer.form.name=u),placeholder:"请输入",clearable:"",onClear:e.handleQuery,onKeyup:P(e.handleQuery,["enter"])},null,8,["modelValue","onClear","onKeyup"])]),_:1})]),_:1}),a(d,{span:6,xs:6},{default:t(()=>[a(p,{label:"角色标识",prop:"sign"},{default:t(()=>[a(g,{modelValue:e.dataContainer.form.sign,"onUpdate:modelValue":o[1]||(o[1]=u=>e.dataContainer.form.sign=u),placeholder:"请输入",clearable:"",onClear:e.handleQuery,onKeyup:P(e.handleQuery,["enter"])},null,8,["modelValue","onClear","onKeyup"])]),_:1})]),_:1}),a(d,{span:6,xs:6},{default:t(()=>[a(p,{label:" "},{default:t(()=>[a(n,{type:"primary",onClick:e.handleQuery},{default:t(()=>[a(m,{style:"width:15px;height:15px;margin-right:5px;",name:"svg:search-bt.svg"}),c(" 查询 ")]),_:1},8,["onClick"]),a(n,{onClick:e.resetQuery},{default:t(()=>[a(m,{style:"width:15px;height:15px;margin-right:5px;",name:"svg:redo.svg"}),c(" 重置 ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},512),[[Q,e.dataContainer.showSearch]]),C("div",ke,[C("div",Ee,[C("div",Ve,[e.hasPermi(["yx:apply:apply"])?(h(),v(n,{key:0,type:"primary",onClick:e.handleAdd},{default:t(()=>[c(" 新增 ")]),_:1},8,["onClick"])):T("",!0),a(n,{plain:"",type:"primary",onClick:e.handleExport},{default:t(()=>[c(" 导出 ")]),_:1},8,["onClick"]),e.dataContainer.currDataList.length>0?(h(),v(n,{key:1,plain:"",type:"danger",onClick:o[2]||(o[2]=u=>e.handleDelete(e.dataContainer.currDataList))},{default:t(()=>[c(" 批量删除 ")]),_:1})):T("",!0)]),C("div",Se,[a(n,{circle:"",onClick:e.resetQuery},{default:t(()=>[a(m,{style:"width:15px;height:15px;",name:"svg:redo.svg"})]),_:1},8,["onClick"]),a(n,{circle:"",onClick:o[3]||(o[3]=u=>e.dataContainer.showSearch=!e.dataContainer.showSearch)},{default:t(()=>[a(m,{style:"width:15px;height:15px;",name:"svg:search-bt.svg"})]),_:1})])]),C("div",Te,[V((h(),v(b,{data:e.dataContainer.list,border:"",onCellDblclick:e.handleCopyVale,onSortChange:e.handleSortChange,height:"100%"},{default:t(()=>[a(r,{type:"index",align:"center",label:"序号",width:"60",fixed:"left"}),a(r,{label:"用户名称","show-overflow-tooltip":"",align:"center","min-width":"170",prop:"name"}),a(r,{label:"用户账号","show-overflow-tooltip":"",align:"center","min-width":"170",prop:"number"}),a(r,{label:"角色标识","show-overflow-tooltip":"",align:"center",prop:"sign","min-width":"150"}),a(r,{label:"排序","show-overflow-tooltip":"",align:"center",prop:"sort",width:"100"}),a(r,{label:"用户状态","show-overflow-tooltip":"",align:"center",prop:"status",width:"100"},{default:t(u=>[u.row.status?(h(),v(y,{key:0},{default:t(()=>[c(" 启用 ")]),_:1})):(h(),v(y,{key:1,type:"info"},{default:t(()=>[c(" 禁用 ")]),_:1}))]),_:1}),a(r,{label:"用户描述","show-overflow-tooltip":"",align:"center",prop:"content","min-width":"150"}),a(r,{label:"创建时间","show-overflow-tooltip":"",align:"center",prop:"createTime","min-width":"220"}),a(r,{label:"操作",width:"200",fixed:"right","class-name":"small-padding fixed-width"},{default:t(u=>[a(n,{text:!0,onClick:$=>e.handleDetails(u.row,{isShow:!0,afterTitle:" - 查看"})},{default:t(()=>[c(" 查看 ")]),_:2},1032,["onClick"]),a(n,{text:!0,onClick:$=>e.handleEdit(u.row,{isShow:!1,afterTitle:" - 编辑"})},{default:t(()=>[c(" 编辑 ")]),_:2},1032,["onClick"]),a(n,{text:!0,type:"danger",onClick:$=>e.handleDelete([u.row])},{default:t(()=>[c(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onCellDblclick","onSortChange"])),[[X,e.dataContainer.loading]])]),C("div",$e,[V(a(E,{total:e.dataContainer.config.total,background:!0,"current-page":e.dataContainer.params.pageNum,"page-size":e.dataContainer.params.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50],"pager-count":7,onSizeChange:o[4]||(o[4]=u=>{e.dataContainer.params.pageSize=u,e.getDataList()}),onCurrentChange:o[5]||(o[5]=u=>{e.dataContainer.params.pageNum=u,e.getDataList()})},null,8,["total","current-page","page-size"]),[[Q,!0]])])]),a(i,{ref:"EditDataDialogRef"},null,512)])}const He=N(ye,[["render",Le],["__scopeId","data-v-6c1af086"]]);export{He as default};
