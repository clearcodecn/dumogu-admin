import{L as b,Q as w,j as y,bf as M,l as d,m as T,z as v,t as C,V as x,W as P,U as j,bv as f,c as D,w as O,T as I,q as L,bh as $,a7 as A,aJ as S,cg as B,ch as N,ci as R}from"./index-999588c8.js";const k={tagList:[],activeSign:"",setTagList(t){this.tagList=t||[]},setActiveSign(t){this.activeSign=t||""}},p=b(k);const E=y({name:"ScreenLayout",components:{},props:{},setup(){x();const t=P();let h=j();const s=b({tagList:f(p,"tagList"),activeSign:f(p,"activeSign"),hasSysMenuConfigObj:f(h,"hasSysMenuConfigObj")}),m=D(()=>s.tagList.filter(e=>e.isCache).map(e=>e.path)),c=new Map;function _(e,r){let i;if(!e)return;const a=r.path;c.has(a)?i=c.get(a):(i={name:a,render(){return S(e)}},c.set(a,i));let o=s.tagList.map(n=>n.path);return c.forEach((n,u)=>{o.includes(u)||c.delete(u)}),S(i)}function l(e){return s.hasSysMenuConfigObj[e.path]||s.hasSysMenuConfigObj[e.name]||{}}function g(){let e=B(s.tagList),r=s.activeSign;const i=l(t);let a={title:i.title,menuName:i.name,path:t.path,fullPath:t.fullPath,sign:N(),isCache:i.isCache,redirectPath:{name:"big-screen-redirect",params:{path:t.fullPath}}};if(!R.find(n=>n.name==t.name))return;let o=e.find(n=>n.path==a.path);if(o)r=o.sign,o.redirectPath=o.redirectPath||a.redirectPath;else{let n=e.findIndex(u=>u.sign==r);n!=-1?e.splice(n+1,0,a):e.push(a),r=a.sign}p.setTagList(e),p.setActiveSign(r)}return O(t,()=>{g()},{immediate:!0}),{formatComponentInstance:_,dataContainer:s,cacheTagList:m}}}),U={class:"big-screen-layout"};function V(t,h,s,m,c,_){const l=M("router-view");return d(),T("div",U,[v(l,null,{default:C(({Component:g,route:e})=>[v(I,{name:"el-fade-in"},{default:C(()=>[(d(),L(A,{include:t.cacheTagList},[(d(),L($(t.formatComponentInstance(g,e))))],1032,["include"]))]),_:2},1024)]),_:1})])}const z=w(E,[["render",V],["__scopeId","data-v-a0a1f378"]]);export{z as default};
